apiVersion: cluster.odoo.io/v1beta1
kind: OdooCluster
metadata:
  labels:
    controller-tools.k8s.io: "1.0"
  name: odoocluster-sample
spec:
  appsecret: app-secret-name
  image:
    registry: "registry.gitlab.com"
    repo: "xoe-labs/odoo-xoe"
    secret: "pull-secret"

  database:
    user: "odoo-operator-user"
    password: "odoo-operator-password"
    dbAdmin:  # Admin access to an external DB cluster
      host: "example.com"
      port: "5432"
      user: "postgres"
      password: "postgres"

  config:
    options: # Translates to INI section [options]
      db_user: "odoo-user"
      db_password: "odoo-password"

  tracks:
  - name: "11.0"
  - name: "12.0"
  - name: "master"
    config:
      options:
        without_demo: "false"

  resources:
    tiers:
    - name: cron
      replicas: 2
      qos: ...
    - name: longpolling
      replicas: 1
      qos: ...
    - name: web
      replicas: 4
      qos: ...
    volumes:
    - name: data
      pvcspec: ...
    - name: backup
      pvcspec: ...

  nodes: ...
